// Module included in the following assemblies:
//
// * backup_and_restore/application_backup_and_restore/backing_up_and_restoring/backing-up-applications.adoc

:_content-type: PROCEDURE
[id="oadp-ceph-cephfs-back-up_{context}"]
= Backing up data using OADP 1.2 Data Mover and CephFS storage

You can use OpenShift API for Data Protection (OADP) 1.2 Data Mover to back up data using CephFS storage by enabling the shallow copy feature of CephFS.

.Procedure

. Create a `Backup` CR similar to the following:
+
.Example `Backup` CR
+
[source,yaml]
----
apiVersion: velero.io/v1
kind: Backup
metadata:
  name: <backup-name>
  namespace: <protected-ns>
spec:
  includedNamespaces:
  - <app-ns>
  storageLocation: velero-sample-1
----

. Monitor the progress of the `VolumeSnapshotBackup` CRs by doing the following:
.. To check the progress of all the `VolumeSnapshotBackup` CRs, run the following command:
+
[source, terminal]
----
$ oc get vsb -n <app-ns>
----

.. To check the progress of a specific `VolumeSnapshotBackup` CR, run the following command:
+
[source,terminal]
----
$ oc get vsb <vsb-name> -n <app-ns> -ojsonpath="{.status.phase}`
----

. Wait several minutes until the `VolumeSnapshotBackup` CR has the status `Completed`.
. Verify that there is at least one snapshot in the object store that is given in the Restic `secret`. You can check for this snapshot in your targeted `BackupStorageLocation` storage provider that has a prefix of `/<OADP-namespace>`.
